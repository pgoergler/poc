import{b as i,j as e,B as I,P as t,d as _,u as F,i as H,H as o}from"./react-flow-Crnto5D5.js";import{c as T,u as U,a as W,L as P}from"./index-rfbDyI-8.js";import{c as q,u as G,S as V,M as z,P as K}from"./style-C_pQfByM.js";import{c as m,D as Y,a as $,b as J,d as Q,e as X,f as Z}from"./Toast-BomwcAb2.js";import{F as ee,L as te}from"./log-out-BrFuV-fK.js";import"./ts-morph-SaAo0aQ4.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],D=T("code",se);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],oe=T("git-branch",ae);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ie=T("users",ne),S=.8,re=5;function le({id:s,sourceX:r,sourceY:a,targetX:l,targetY:p,sourcePosition:h=t.Bottom,targetPosition:f=t.Top,data:u}){const j=u,C=(j==null?void 0:j.animationDelay)??0,c=i.useRef(null),[b,A]=i.useState(0),[d,E]=i.useState({x:0,y:0,visible:!1}),y=q(r,a,l,p,h,f);return i.useLayoutEffect(()=>{if(c.current){const N=c.current.getTotalLength();A(N)}},[y]),i.useEffect(()=>{if(!c.current||b===0)return;const N=c.current;let g,v=null;const L=B=>{v===null&&(v=B);const w=(B-v)/1e3%re,k=C*S,R=k+S;if(w>=k&&w<R){const x=(w-k)/S,M=N.getPointAtLength(b*x);E({x:M.x,y:M.y,visible:!0})}else E(x=>x.visible?{...x,visible:!1}:x);g=requestAnimationFrame(L)};return g=requestAnimationFrame(L),()=>{g&&cancelAnimationFrame(g)}},[b,C]),e.jsxs(e.Fragment,{children:[e.jsx("path",{d:y,fill:"none",stroke:"oklch(55% 0.18 303)",strokeWidth:12,strokeLinecap:"butt",style:{opacity:.12,pointerEvents:"none"}}),e.jsx(I,{id:s,path:y,className:"demo-edge animate-dash-flow",style:{strokeDasharray:"5 5"}}),e.jsx("path",{ref:c,d:y,fill:"none",stroke:"transparent",strokeWidth:0}),d.visible&&e.jsxs(e.Fragment,{children:[e.jsx("circle",{cx:d.x,cy:d.y,r:8,fill:"rgba(139, 92, 246, 0.4)",style:{pointerEvents:"none"}}),e.jsx("circle",{cx:d.x,cy:d.y,r:5,fill:"oklch(65% 0.2 303)",style:{filter:"drop-shadow(0 0 4px rgba(139, 92, 246, 0.8))",pointerEvents:"none"}})]})]})}const n={opacity:0,pointerEvents:"none"};function ce({data:s}){return e.jsxs("div",{className:m("node-postit gradient-event rotate-event","w-[120px] h-[80px] p-2 flex items-center justify-center"),children:[e.jsx(o,{type:"target",position:t.Top,id:"target-top",style:n}),e.jsx(o,{type:"target",position:t.Left,id:"target-left",style:n}),e.jsx(o,{type:"source",position:t.Bottom,id:"source-bottom",style:n}),e.jsx(o,{type:"source",position:t.Right,id:"source-right",style:n}),e.jsx("span",{className:"text-[11px] font-semibold text-postit-text text-center leading-tight",children:s.label})]})}function de({data:s}){return e.jsxs("div",{className:m("node-postit gradient-command rotate-command","w-[120px] h-[80px] p-2 flex items-center justify-center"),children:[e.jsx(o,{type:"target",position:t.Top,style:n}),e.jsx(o,{type:"source",position:t.Bottom,style:n}),e.jsx("span",{className:"text-[11px] font-semibold text-postit-text text-center leading-tight",children:s.label})]})}function xe({data:s}){return e.jsxs("div",{className:m("node-postit gradient-policy rotate-policy","w-[120px] h-[80px] p-2 flex items-center justify-center"),children:[e.jsx(o,{type:"target",position:t.Top,style:n}),e.jsx(o,{type:"source",position:t.Bottom,style:n}),e.jsx("span",{className:"text-[11px] font-semibold text-postit-text text-center leading-tight",children:s.label})]})}function me({data:s}){return e.jsxs("div",{className:m("node-postit gradient-trigger rotate-trigger","w-[120px] h-[80px] p-2 flex items-center justify-center"),children:[e.jsx(o,{type:"target",position:t.Left,id:"target-left",style:n}),e.jsx(o,{type:"source",position:t.Right,id:"source-right",style:n}),e.jsx(o,{type:"source",position:t.Bottom,id:"source-bottom",style:n}),e.jsx("span",{className:"text-[11px] font-semibold text-postit-text text-center leading-tight",children:s.label})]})}function pe({data:s}){return e.jsxs("div",{className:m("gradient-outcome border border-node-policy/50 rounded-md","min-w-[70px] h-6 px-2 flex items-center justify-center","shadow-[0_2px_4px_rgba(0,0,0,0.3)]"),children:[e.jsx(o,{type:"target",position:t.Top,style:n}),e.jsx(o,{type:"source",position:t.Bottom,style:n}),e.jsx("span",{className:"text-[10px] font-semibold text-white [.light_&]:text-postit-text whitespace-nowrap",children:s.label})]})}const he={trigger:me,event:ce,command:de,policy:xe,outcome:pe},ue={floating:le},ye=[{id:"trigger-1",type:"trigger",position:{x:0,y:0},data:{label:"POST /orders"},sourcePosition:t.Right,targetPosition:t.Left},{id:"event-1",type:"event",position:{x:180,y:0},data:{label:"Order Created"},sourcePosition:t.Bottom,targetPosition:t.Left},{id:"policy-1",type:"policy",position:{x:180,y:130},data:{label:"Check Inventory"},sourcePosition:t.Bottom,targetPosition:t.Top},{id:"outcome-1",type:"outcome",position:{x:25,y:255},data:{label:"In Stock"},sourcePosition:t.Bottom,targetPosition:t.Top},{id:"outcome-2",type:"outcome",position:{x:330,y:255},data:{label:"Out of Stock"},sourcePosition:t.Bottom,targetPosition:t.Top},{id:"command-1",type:"command",position:{x:0,y:310},data:{label:"Reserve Stock"},sourcePosition:t.Bottom,targetPosition:t.Top},{id:"command-2",type:"command",position:{x:300,y:310},data:{label:"Notify Customer"},sourcePosition:t.Bottom,targetPosition:t.Top},{id:"event-2",type:"event",position:{x:0,y:430},data:{label:"Stock Reserved"},sourcePosition:t.Bottom,targetPosition:t.Top},{id:"event-3",type:"event",position:{x:300,y:430},data:{label:"Customer Notified"},sourcePosition:t.Bottom,targetPosition:t.Top}],ge=[{id:"e1",source:"trigger-1",target:"event-1",sourceHandle:"source-right",targetHandle:"target-left",type:"floating",data:{animationDelay:0}},{id:"e2",source:"event-1",target:"policy-1",type:"floating",data:{animationDelay:1}},{id:"e3",source:"policy-1",target:"outcome-1",type:"floating",data:{animationDelay:2}},{id:"e4",source:"policy-1",target:"outcome-2",type:"floating",data:{animationDelay:2}},{id:"e5",source:"outcome-1",target:"command-1",type:"floating",data:{animationDelay:3}},{id:"e6",source:"command-1",target:"event-2",type:"floating",data:{animationDelay:4}},{id:"e7",source:"outcome-2",target:"command-2",type:"floating",data:{animationDelay:3}},{id:"e8",source:"command-2",target:"event-3",type:"floating",data:{animationDelay:4}}];function fe(){const{fitView:s}=F(),r=i.useCallback(()=>{setTimeout(()=>s({padding:.15}),0)},[s]),a=i.useMemo(()=>he,[]),l=i.useMemo(()=>ue,[]);return e.jsx(H,{nodes:ye,edges:ge,nodeTypes:a,edgeTypes:l,onInit:r,nodesDraggable:!1,nodesConnectable:!1,elementsSelectable:!1,panOnDrag:!1,zoomOnScroll:!1,zoomOnPinch:!1,zoomOnDoubleClick:!1,panOnScroll:!1,preventScrolling:!1,deleteKeyCode:null,selectionKeyCode:null,multiSelectionKeyCode:null,fitView:!0,fitViewOptions:{padding:.15},proOptions:{hideAttribution:!0},className:"demo-canvas"})}function je(){return e.jsx(_,{children:e.jsx(fe,{})})}const O="arko:auth:redirect";function De(){const{isAuthenticated:s,isLoading:r,user:a,signOut:l}=U(),p=W(),{theme:h,toggleTheme:f}=G();return i.useEffect(()=>{if(!r&&s){const u=sessionStorage.getItem(O);u&&(sessionStorage.removeItem(O),p(u,{replace:!0}))}},[r,s,p]),e.jsx("div",{className:"homepage min-h-screen overflow-x-hidden",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8 relative",children:[e.jsxs("header",{className:"flex justify-between items-center mb-16",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("svg",{viewBox:"0 0 100 100",fill:"none",className:"w-10 h-10",style:{filter:"drop-shadow(0 0 15px rgba(139, 92, 246, 0.6))"},children:[e.jsx("circle",{cx:"50",cy:"20",r:"12",fill:"#ff8c00"}),e.jsx("circle",{cx:"25",cy:"60",r:"12",fill:"#3b82f6"}),e.jsx("circle",{cx:"75",cy:"60",r:"12",fill:"#9333ea"}),e.jsx("path",{d:"M50 32 L30 48 M50 32 L70 48",stroke:"#8b5cf6",strokeWidth:"2"})]}),e.jsx("span",{className:"text-2xl font-bold text-text-primary",style:{textShadow:"0 0 30px rgba(139, 92, 246, 0.6)"},children:"Arko"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[s&&a&&e.jsxs(e.Fragment,{children:[e.jsxs(P,{to:"/workflows",className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-bg-secondary/50 backdrop-blur-md border border-border text-text-primary text-sm font-medium transition-all duration-200 hover:bg-bg-tertiary hover:border-accent no-underline",children:[e.jsx(ee,{className:"w-4 h-4"}),"My Workflows"]}),e.jsxs(Y,{children:[e.jsx($,{asChild:!0,children:e.jsx("button",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-border cursor-pointer transition-all duration-200 hover:border-accent focus:outline-none",children:a.avatarUrl?e.jsx("img",{src:a.avatarUrl,alt:a.username||"User avatar",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-accent flex items-center justify-center text-white text-sm font-medium",children:(a.username||a.email||"U")[0].toUpperCase()})})}),e.jsxs(J,{align:"end",className:"w-48",children:[e.jsx(Q,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-sm font-medium text-text-primary",children:a.username||"User"}),a.email&&e.jsx("p",{className:"text-xs text-text-dim truncate",children:a.email})]})}),e.jsx(X,{}),e.jsxs(Z,{onClick:l,className:"text-red-400 focus:text-red-400",children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]}),e.jsx("button",{className:"w-10 h-10 rounded-full bg-bg-secondary/50 backdrop-blur-md border border-border text-text-primary cursor-pointer flex items-center justify-center transition-all duration-200 hover:bg-bg-tertiary hover:border-accent focus:outline-none",onClick:f,title:h==="dark"?"Switch to light mode":"Switch to dark mode",children:h==="dark"?e.jsx(V,{className:"w-5 h-5"}):e.jsx(z,{className:"w-5 h-5"})})]})]}),e.jsxs("section",{className:"text-center py-12 mb-20",children:[e.jsx("div",{className:"hero-badge mb-8",children:"EventStorming â†’ Code"}),e.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-extrabold leading-tight mb-6 tracking-tight text-text-primary",children:["Design. Simulate.",e.jsx("br",{}),e.jsx("span",{className:"neon-gradient",children:"Generate."})]}),e.jsxs("p",{className:"text-lg sm:text-xl text-text-secondary max-w-2xl mx-auto mb-10 leading-relaxed",children:["Visual workflow modeling that outputs production-ready serverless code.",e.jsx("br",{}),e.jsx("span",{className:"text-text-muted",children:"Built for developers who think in events."})]}),e.jsx(P,{to:"/workflow",className:"neon-btn",children:"Get Started"})]}),e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-12 text-text-primary",children:"How it works"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(oe,{className:"w-6 h-6 text-accent"}),e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Design"})]}),e.jsx("p",{className:"text-text-secondary leading-relaxed",children:"Model with EventStorming: place your Events, Commands and Policies on the canvas."})]}),e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(K,{className:"w-6 h-6 text-accent"}),e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Simulate"})]}),e.jsx("p",{className:"text-text-secondary leading-relaxed",children:"Validate your business logic by simulating the flow step by step before writing any code."})]}),e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(D,{className:"w-6 h-6 text-accent"}),e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Generate"})]}),e.jsx("p",{className:"text-text-secondary leading-relaxed",children:"Generate handlers and DTOs, ready to develop. TypeScript or PHP, AWS Lambda ready."})]})]})]}),e.jsxs("section",{className:"mb-20",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-4 text-text-primary",children:"From idea to implementation"}),e.jsx("p",{className:"text-text-secondary text-center mb-12 max-w-2xl mx-auto",children:"Model an order flow in minutes, generate production-ready handlers."}),e.jsxs("div",{className:"usecase-container",children:[e.jsx("div",{className:"usecase-flow-canvas",children:e.jsx(je,{})}),e.jsxs("div",{className:"usecase-explanation",children:[e.jsxs("div",{className:"explanation-step",children:[e.jsx("div",{className:"step-icon trigger",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-text-primary font-medium",children:"API Trigger"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"An HTTP endpoint receives the order request"})]})]}),e.jsxs("div",{className:"explanation-step",children:[e.jsx("div",{className:"step-icon event",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-text-primary font-medium",children:"Domain Event"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Order Created event is emitted"})]})]}),e.jsxs("div",{className:"explanation-step",children:[e.jsx("div",{className:"step-icon policy",children:"3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-text-primary font-medium",children:"Business Rule"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Policy decides the next action based on inventory"})]})]}),e.jsxs("div",{className:"explanation-step",children:[e.jsx("div",{className:"step-icon result",children:"4"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-text-primary font-medium",children:"Branching Logic"}),e.jsx("p",{className:"text-sm text-text-secondary",children:"Different paths for in-stock vs out-of-stock scenarios"})]})]})]})]})]}),e.jsxs("section",{className:"mb-20 text-center",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-4 text-text-primary",children:"Supported Languages"}),e.jsx("p",{className:"text-text-secondary mb-8",children:"Generate code for your favorite stacks."}),e.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[e.jsxs("div",{className:"lang-badge",children:[e.jsx(D,{className:"w-5 h-5 text-node-command"}),"TypeScript"]}),e.jsxs("div",{className:"lang-badge",children:[e.jsx(D,{className:"w-5 h-5 text-node-policy"}),"PHP"]})]}),e.jsx("p",{className:"text-sm text-text-muted mt-6",children:"AWS Lambda ready with Serverless Framework"})]}),e.jsx("section",{className:"mb-20",children:e.jsxs("div",{className:"coming-soon-card max-w-xl mx-auto text-center",children:[e.jsx("div",{className:"coming-soon-badge mb-4",children:"Coming Soon"}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[e.jsx(ie,{className:"w-6 h-6 text-accent"}),e.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:"Real-time Collaboration"})]}),e.jsx("p",{className:"text-text-secondary",children:"Work together on your workflows, simultaneously."})]})}),e.jsxs("section",{className:"cta-section text-center py-16 px-8 mb-12",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4 text-text-primary",style:{textShadow:"0 0 40px rgba(139, 92, 246, 0.4)"},children:"Ready to model?"}),e.jsx("p",{className:"text-text-secondary text-lg mb-8",children:"Start designing your workflows now."}),e.jsx(P,{to:"/workflow",className:"neon-btn",children:"Create my first workflow"})]}),e.jsx("footer",{className:"text-center py-8 text-text-muted text-sm",children:e.jsx("p",{children:"Arko - Workflow Modeling Tool"})})]})})}export{De as default};

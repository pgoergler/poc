import{j as e,b as i}from"./react-flow-Crnto5D5.js";import{c as N,D as Q,a as Z,b as ee,f as I,e as te,A as re,v as se,w as oe,x as ne,y as ae,z as le,B as ie,E as ce,F as $}from"./Toast-D25HDRZL.js";import{c as G,g as q,u as U,a as de,e as ue}from"./index-BcYYLFft.js";import{D as fe,F as Y,u as me}from"./ToastContext-Bd-2oZnJ.js";import{T as ge,P as z,F as xe,C as pe}from"./FileAdapter-C0A9nsiP.js";import"./ts-morph-SaAo0aQ4.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],he=G("ellipsis-vertical",we);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],be=G("upload",ke),P={event:"#f97316",command:"#3b82f6",policy:"#8b5cf6",trigger:"#22c55e",externalSystem:"#6b7280",externalEvent:"#ec4899",hotspot:"#ef4444",note:"#94a3b8",actor:"#facc15"};function ye({workflow:t}){const{instances:a,definitions:u}=t.document.workflow,r=i.useMemo(()=>{if(!a||a.length===0)return[];const k=new Map;for(const y of u)k.set(y.id,y.kind);return a.map(y=>({x:y.position.x,y:y.position.y,kind:k.get(y.definitionId)||"event"}))},[a,u]);if(r.length===0)return e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-2 text-text-dim",children:[e.jsx(Y,{className:"w-8 h-8 opacity-50"}),e.jsx("span",{className:"text-xs",children:"Vide"})]})});const n=Math.min(...r.map(k=>k.x)),s=Math.max(...r.map(k=>k.x)),l=Math.min(...r.map(k=>k.y)),o=Math.max(...r.map(k=>k.y)),d=s-n||1,m=o-l||1,c=200,f=120,g=20,w=6,x=(c-g*2)/d,p=(f-g*2)/m,h=Math.min(x,p,1),v=(c-d*h)/2,S=(f-m*h)/2;return e.jsxs("svg",{viewBox:`0 0 ${c} ${f}`,className:"w-full h-full",preserveAspectRatio:"xMidYMid meet",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"currentColor",strokeOpacity:"0.1",strokeWidth:"0.5"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"}),r.map((k,y)=>{const E=(k.x-n)*h+v,A=(k.y-l)*h+S,D=P[k.kind]||P.event;return e.jsx("circle",{cx:E,cy:A,r:w,fill:D,opacity:.9},y)})]})}const W=new Intl.RelativeTimeFormat("fr",{numeric:"auto"});function je(t){const a=new Date(t),r=new Date().getTime()-a.getTime(),n=Math.floor(r/1e3),s=Math.floor(n/60),l=Math.floor(s/60),o=Math.floor(l/24);if(n<60)return W.format(0,"second");if(s<60)return W.format(-s,"minute");if(l<24)return W.format(-l,"hour");if(o<7)return W.format(-o,"day");if(o<30){const d=Math.floor(o/7);return W.format(-d,"week")}if(o<365){const d=Math.floor(o/30.44);return W.format(-d,"month")}return a.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})}function ve({workflow:t,isDeleting:a=!1,onOpen:u,onDelete:r,onExport:n}){const s=t.document.metadata.name||"Sans nom",l=je(t.updatedAt),o=t.document.metadata.targetPlugin!=null,d=()=>{a||u(t)},m=f=>{f.stopPropagation(),n(t)},c=f=>{f.stopPropagation(),!a&&r(t)};return e.jsxs("div",{className:N("bg-surface border border-border rounded-xl overflow-hidden","transition-all duration-200 cursor-pointer","hover:border-border-hover hover:bg-surface-elevated",a&&"opacity-50 pointer-events-none"),onClick:d,children:[e.jsx("div",{className:N("bg-bg-tertiary h-[140px]","border-b border-border"),children:e.jsx(ye,{workflow:t})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h3",{className:"text-[15px] font-semibold text-text-primary truncate flex-1",children:s}),e.jsx("div",{onClick:f=>f.stopPropagation(),children:e.jsxs(Q,{children:[e.jsx(Z,{asChild:!0,children:e.jsx("button",{className:N("w-8 h-8 flex items-center justify-center rounded-md shrink-0","bg-transparent border border-border text-text-muted","transition-all duration-200","hover:bg-surface-hover hover:border-border-hover hover:text-text-primary"),title:"Actions",children:e.jsx(he,{className:"w-4 h-4"})})}),e.jsxs(ee,{align:"end",children:[e.jsxs(I,{onSelect:m,children:[e.jsx(fe,{className:"w-4 h-4"}),"Exporter"]}),e.jsx(te,{}),e.jsxs(I,{onSelect:c,className:"text-danger focus:text-danger focus:bg-danger-bg",children:[e.jsx(ge,{className:"w-4 h-4"}),"Supprimer"]})]})]})})]}),e.jsx("p",{className:"text-xs text-text-muted mb-3",children:l}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:N("inline-flex items-center gap-1 px-2 py-1 rounded-md text-[11px] font-medium",o?"bg-success/20 text-success":"bg-text-muted/20 text-text-muted"),children:o?"Configure":"Brouillon"}),e.jsx("button",{className:N("px-3 py-1.5 rounded-md text-sm font-medium","bg-accent text-white","transition-colors duration-200","hover:bg-accent-hover"),children:"Ouvrir"})]})]})]})}function M(){return e.jsxs("div",{className:"bg-surface border border-border rounded-xl overflow-hidden",children:[e.jsx("div",{className:"bg-bg-tertiary h-[140px] animate-pulse"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-5 w-3/5 bg-bg-tertiary rounded animate-pulse mb-2"}),e.jsx("div",{className:"h-4 w-2/5 bg-bg-tertiary rounded animate-pulse mb-3"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-6 w-16 bg-bg-tertiary rounded animate-pulse"}),e.jsx("div",{className:"h-8 w-16 bg-bg-tertiary rounded animate-pulse"})]})]})]})}function Ne({onCreateWorkflow:t}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-10 text-center",children:[e.jsx("div",{className:N("w-20 h-20 rounded-full mb-6","bg-accent-light flex items-center justify-center"),children:e.jsx(Y,{className:"w-10 h-10 text-accent"})}),e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Aucun workflow"}),e.jsx("p",{className:"text-sm text-text-muted mb-6 max-w-md",children:"Vous n'avez pas encore de workflow. Commencez par en creer un pour modeliser vos processus metier."}),e.jsxs("button",{onClick:t,className:N("inline-flex items-center gap-2 px-5 py-2.5 rounded-md","bg-accent text-white font-medium","transition-colors duration-200","hover:bg-accent-hover"),children:[e.jsx(z,{className:"w-5 h-5"}),"Creer mon premier workflow"]})]})}function Se({workflows:t,isLoading:a,deletingWorkflowId:u,onOpenWorkflow:r,onDeleteWorkflow:n,onExportWorkflow:s,onCreateWorkflow:l}){return a&&t.length===0?e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:[e.jsx(M,{}),e.jsx(M,{}),e.jsx(M,{}),e.jsx(M,{})]}):t.length===0?e.jsx(Ne,{onCreateWorkflow:l}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:t.map(o=>e.jsx(ve,{workflow:o,isDeleting:u===o.id,onOpen:r,onDelete:n,onExport:s},o.id))})}function We({workflow:t,open:a,onOpenChange:u,onConfirm:r}){const[n,s]=i.useState(!1),l=async()=>{if(t){s(!0);try{await r(t),u(!1)}finally{s(!1)}}},o=(t==null?void 0:t.document.metadata.name)||"Sans nom";return e.jsx(re,{open:a,onOpenChange:u,children:e.jsxs(se,{children:[e.jsxs(oe,{children:[e.jsx(ne,{children:"Supprimer ce workflow ?"}),e.jsxs(ae,{children:["Vous etes sur le point de supprimer ",e.jsxs("strong",{className:"text-text-primary",children:['"',o,'"']}),". Cette action est irreversible et toutes les donnees associees seront perdues."]})]}),e.jsxs(le,{children:[e.jsx(ie,{disabled:n,children:"Annuler"}),e.jsx(ce,{onClick:l,disabled:n,children:n?"Suppression...":"Supprimer"})]})]})})}const H="arko:workflows";function Ee(){return`wf_${$()}`}function R(){try{const t=localStorage.getItem(H);return t?JSON.parse(t):[]}catch{return[]}}function L(t){try{localStorage.setItem(H,JSON.stringify(t))}catch(a){console.error("Failed to save workflows to localStorage:",a)}}function Ce(){const[t,a]=i.useState([]),[u,r]=i.useState(!1),[n,s]=i.useState(null),l=i.useRef(!1),o=i.useCallback(()=>{s(null)},[]),d=i.useCallback(async()=>{r(!0),s(null);try{await new Promise(x=>setTimeout(x,50));const w=R();w.sort((x,p)=>new Date(p.updatedAt).getTime()-new Date(x.updatedAt).getTime()),a(w)}catch(w){s({code:"STORAGE_ERROR",message:w instanceof Error?w.message:"Failed to fetch workflows"})}finally{r(!1)}},[]);i.useEffect(()=>{l.current||(l.current=!0,d())},[d]);const m=i.useCallback(async w=>{r(!0),s(null);try{const x=new Date().toISOString(),p={id:Ee(),document:w,createdAt:x,updatedAt:x},h=R(),v=[p,...h];return L(v),a(v),p}catch(x){return s({code:"STORAGE_ERROR",message:x instanceof Error?x.message:"Failed to create workflow"}),null}finally{r(!1)}},[]),c=i.useCallback(async(w,x)=>{r(!0),s(null);try{const p=R(),h=p.findIndex(S=>S.id===w);if(h===-1)return s({code:"NOT_FOUND",message:"Workflow not found"}),null;const v={...p[h],document:x,updatedAt:new Date().toISOString()};return p[h]=v,L(p),a(p),v}catch(p){return s({code:"STORAGE_ERROR",message:p instanceof Error?p.message:"Failed to update workflow"}),null}finally{r(!1)}},[]),f=i.useCallback(async w=>{r(!0),s(null);try{const p=R().filter(h=>h.id!==w);return L(p),a(p),!0}catch(x){return s({code:"STORAGE_ERROR",message:x instanceof Error?x.message:"Failed to delete workflow"}),!1}finally{r(!1)}},[]),g=i.useCallback(async w=>{s(null);try{const p=R().find(h=>h.id===w);return p||(s({code:"NOT_FOUND",message:"Workflow not found"}),null)}catch(x){return s({code:"STORAGE_ERROR",message:x instanceof Error?x.message:"Failed to get workflow"}),null}},[]);return{workflows:t,total:t.length,isLoading:u,error:n,fetchWorkflows:d,createWorkflow:m,updateWorkflow:c,deleteWorkflow:f,getWorkflow:g,clearError:o}}function Re(){return`wf_${$()}`}function O(t){return{id:t.id,document:t.document,createdAt:t.created_at,updatedAt:t.updated_at}}function b(t,a="STORAGE_ERROR"){return{code:a,message:t}}function De(t,a){const u=q(),r={workflows:[],isLoading:!1,error:null};function n(s){Object.assign(r,s),a==null||a(r)}return{get workflows(){return r.workflows},get total(){return r.workflows.length},get isLoading(){return r.isLoading},get error(){return r.error},clearError(){n({error:null})},async fetchWorkflows(){n({isLoading:!0,error:null});try{const{data:s,error:l}=await u.from("workflows").select("*").eq("user_id",t).order("updated_at",{ascending:!1});if(l){n({isLoading:!1,error:b(l.message)});return}const o=(s??[]).map(O);n({workflows:o,isLoading:!1})}catch(s){n({isLoading:!1,error:b(s instanceof Error?s.message:"Failed to fetch workflows")})}},async createWorkflow(s){n({isLoading:!0,error:null});try{const l=Re(),{data:o,error:d}=await u.from("workflows").insert({id:l,user_id:t,document:s}).select().single();if(d)return n({isLoading:!1,error:b(d.message)}),null;const m=O(o);return n({workflows:[m,...r.workflows],isLoading:!1}),m}catch(l){return n({isLoading:!1,error:b(l instanceof Error?l.message:"Failed to create workflow")}),null}},async updateWorkflow(s,l){n({isLoading:!0,error:null});try{const{data:o,error:d}=await u.from("workflows").update({document:l,updated_at:new Date().toISOString()}).eq("id",s).eq("user_id",t).select().single();if(d)return d.code==="PGRST116"?(n({isLoading:!1,error:b("Workflow not found","NOT_FOUND")}),null):(n({isLoading:!1,error:b(d.message)}),null);const m=O(o),c=r.workflows.map(f=>f.id===s?m:f);return n({workflows:c,isLoading:!1}),m}catch(o){return n({isLoading:!1,error:b(o instanceof Error?o.message:"Failed to update workflow")}),null}},async deleteWorkflow(s){n({isLoading:!0,error:null});try{const{error:l}=await u.from("workflows").delete().eq("id",s).eq("user_id",t);if(l)return n({isLoading:!1,error:b(l.message)}),!1;const o=r.workflows.filter(d=>d.id!==s);return n({workflows:o,isLoading:!1}),!0}catch(l){return n({isLoading:!1,error:b(l instanceof Error?l.message:"Failed to delete workflow")}),!1}},async getWorkflow(s){n({error:null});try{const{data:l,error:o}=await u.from("workflows").select("*").eq("id",s).eq("user_id",t).single();return o?o.code==="PGRST116"?(n({error:b("Workflow not found","NOT_FOUND")}),null):(n({error:b(o.message)}),null):O(l)}catch(l){return n({error:b(l instanceof Error?l.message:"Failed to get workflow")}),null}}}}function Me(t){const[a,u]=i.useState({workflows:[],isLoading:!1,error:null}),r=i.useRef(null);i.useEffect(()=>{if(!t){r.current=null;return}r.current=De(t,c=>{u({workflows:c.workflows,isLoading:c.isLoading,error:c.error})}),r.current.fetchWorkflows()},[t]);const n=i.useCallback(()=>{var c;return((c=r.current)==null?void 0:c.fetchWorkflows())??Promise.resolve()},[]),s=i.useCallback(c=>{var f;return((f=r.current)==null?void 0:f.createWorkflow(c))??Promise.resolve(null)},[]),l=i.useCallback((c,f)=>{var g;return((g=r.current)==null?void 0:g.updateWorkflow(c,f))??Promise.resolve(null)},[]),o=i.useCallback(c=>{var f;return((f=r.current)==null?void 0:f.deleteWorkflow(c))??Promise.resolve(!1)},[]),d=i.useCallback(c=>{var f;return((f=r.current)==null?void 0:f.getWorkflow(c))??Promise.resolve(null)},[]),m=i.useCallback(()=>{var c;return(c=r.current)==null?void 0:c.clearError()},[]);return i.useMemo(()=>t?{workflows:a.workflows,total:a.workflows.length,isLoading:a.isLoading,error:a.error,fetchWorkflows:n,createWorkflow:s,updateWorkflow:l,deleteWorkflow:o,getWorkflow:d,clearError:m}:null,[t,a.workflows,a.isLoading,a.error,n,s,l,o,d,m])}function Oe(){const{authEnabled:t,isAuthenticated:a,user:u}=U(),r=Ce(),n=Me(t&&a&&u?u.id:null),s=t&&a&&n!==null,l=s?n:r;return i.useMemo(()=>({...l,backend:s?"supabase":"local"}),[l,s])}const V="arko:workflows",T="arko:migrated";function Ae(){try{const t=localStorage.getItem(V);return t?JSON.parse(t).length>0:!1}catch{return!1}}function Le(){return localStorage.getItem(T)==="true"}function Te(){try{const t=localStorage.getItem(V);return t?JSON.parse(t):[]}catch{return[]}}async function _e(t,a){const{skipExisting:u=!0,markComplete:r=!0,onProgress:n}=a??{},s=q(),l=Te(),o={success:!0,total:l.length,migrated:0,skipped:0,failed:0,results:[]};if(l.length===0)return r&&localStorage.setItem(T,"true"),o;for(let d=0;d<l.length;d++){const m=l[d];n==null||n(d+1,l.length);try{if(u){const{data:f}=await s.from("workflows").select("id").eq("id",m.id).eq("user_id",t).single();if(f){o.skipped++,o.results.push({id:m.id,success:!0,skipped:!0});continue}}const{error:c}=await s.from("workflows").insert({id:m.id,user_id:t,document:m.document,created_at:m.createdAt,updated_at:m.updatedAt});c?(o.failed++,o.success=!1,o.results.push({id:m.id,success:!1,error:c.message})):(o.migrated++,o.results.push({id:m.id,success:!0}))}catch(c){o.failed++,o.success=!1,o.results.push({id:m.id,success:!1,error:c instanceof Error?c.message:"Unknown error"})}}return r&&o.success&&localStorage.setItem(T,"true"),o}function Fe(){const{authEnabled:t,isAuthenticated:a,user:u}=U(),[r,n]=i.useState({status:"idle",progress:null,result:null,error:null}),[s,l]=i.useState(!1),o=i.useMemo(()=>t&&a&&u!==null&&!Le()&&Ae()&&!s&&r.status!=="completed",[t,a,u,s,r.status]),d=i.useMemo(()=>r.status!=="idle"?r.status:o?"pending":"idle",[r.status,o]),m=i.useMemo(()=>({...r,status:d}),[r,d]),c=i.useCallback(async()=>{if(u){n({status:"migrating",progress:{current:0,total:0},result:null,error:null});try{const g=await _e(u.id,{skipExisting:!0,markComplete:!0,onProgress:(w,x)=>{n(p=>({...p,progress:{current:w,total:x}}))}});n({status:g.success?"completed":"error",progress:null,result:g,error:g.success?null:"Some workflows failed to migrate"})}catch(g){n({status:"error",progress:null,result:null,error:g instanceof Error?g.message:"Migration failed"})}}},[u]),f=i.useCallback(()=>{l(!0),n(g=>({...g,status:"idle"}))},[]);return{state:m,needsMigration:o,startMigration:c,dismissMigration:f}}function Ie(t){const a=new Date().toISOString();return{version:pe,metadata:{name:t,createdAt:a,updatedAt:a},workflow:{definitions:[],transitions:[],instances:[],edgeMappings:[],outcomes:[],outcomeEdgeMappings:[]}}}const Pe=new xe;function Ve(){const t=de(),{showSuccess:a,showError:u}=me(),{workflows:r,total:n,isLoading:s,error:l,fetchWorkflows:o,createWorkflow:d,deleteWorkflow:m,backend:c}=Oe(),{needsMigration:f,state:g,startMigration:w,dismissMigration:x}=Fe(),[p,h]=i.useState(null),[v,S]=i.useState(!1),[k,y]=i.useState(null),E=i.useRef(!1);i.useEffect(()=>{g.status==="completed"&&!E.current&&(E.current=!0,o(),g.result&&a("Migration terminée",`${g.result.migrated} workflow(s) migré(s) vers le cloud.`)),g.status!=="completed"&&(E.current=!1)},[g.status,g.result,o,a]);const A=i.useCallback(j=>{t(`/workflow/${j.id}`)},[t]),D=i.useCallback(async()=>{const j=Ie("Nouveau workflow"),C=await d(j);C&&t(`/workflow/${C.id}`)},[d,t]),J=i.useCallback(j=>{h(j),S(!0)},[]),K=i.useCallback(j=>{var F;const C=j.document.metadata.name||"workflow",B=`${C.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}.arko.json`,_=Pe.exportToFile(j.document,B);_.success?a("Export réussi",`${C} exporté.`):u("Erreur d'export",((F=_.error)==null?void 0:F.message)||"Erreur inconnue")},[a,u]),X=i.useCallback(async j=>{y(j.id);try{await m(j.id)}finally{y(null)}},[m]);return e.jsxs("div",{className:"min-h-screen bg-bg-primary",children:[e.jsx("header",{className:"border-b border-border bg-bg-secondary",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-5 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl font-bold text-accent",children:"Arko"}),e.jsx("h1",{className:"text-xl font-semibold text-text-primary",children:"Mes Workflows"})]}),e.jsxs("button",{onClick:D,className:N("inline-flex items-center gap-2 px-5 py-2.5 rounded-md","bg-accent text-white font-medium","transition-colors duration-200","hover:bg-accent-hover"),children:[e.jsx(z,{className:"w-5 h-5"}),"Nouveau workflow"]})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-6 py-8",children:[f&&e.jsxs("div",{className:"mb-6 p-4 bg-accent-light border border-accent/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-accent"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-text-primary",children:"Workflows locaux détectés"}),e.jsx("p",{className:"text-xs text-text-muted",children:"Migrez vos workflows vers le cloud pour y accéder depuis n'importe où."})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:x,className:"px-3 py-1.5 text-sm text-text-muted hover:text-text-primary transition-colors",children:"Plus tard"}),e.jsx("button",{onClick:w,disabled:g.status==="migrating",className:N("inline-flex items-center gap-2 px-4 py-1.5 rounded-md text-sm font-medium","bg-accent text-white","hover:bg-accent-hover transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),children:g.status==="migrating"?e.jsxs(e.Fragment,{children:[e.jsx(ue,{className:"w-4 h-4 animate-spin"}),"Migration..."]}):"Migrer maintenant"})]})]}),g.progress&&e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"h-1.5 bg-bg-tertiary rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-accent transition-all duration-300",style:{width:`${g.progress.current/g.progress.total*100}%`}})}),e.jsxs("p",{className:"mt-1 text-xs text-text-muted",children:[g.progress.current," / ",g.progress.total]})]})]}),l&&e.jsx("div",{className:"mb-6 p-4 bg-danger-bg border border-danger/30 rounded-lg text-danger text-sm",children:l.message}),r.length>0&&e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("span",{className:"text-sm text-text-muted",children:[n," workflow",n>1?"s":"",c==="supabase"&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-success/10 text-success rounded",children:"Cloud"}),c==="local"&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-warning/10 text-warning rounded",children:"Local"})]})}),e.jsx(Se,{workflows:r,isLoading:s,deletingWorkflowId:k,onOpenWorkflow:A,onDeleteWorkflow:J,onExportWorkflow:K,onCreateWorkflow:D})]}),e.jsx(We,{workflow:p,open:v,onOpenChange:S,onConfirm:X})]})}export{Ve as default};
